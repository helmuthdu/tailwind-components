var R=Object.defineProperty,T=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var x=(e,t,s)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,w=(e,t)=>{for(var s in t||(t={}))N.call(t,s)&&x(e,s,t[s]);if($)for(var s of $(t))P.call(t,s)&&x(e,s,t[s]);return e},b=(e,t)=>T(e,F(t));var C=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var d=(e,t,s)=>(C(e,t,"read from private field"),s?s.call(e):t.get(e)),E=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},A=(e,t,s,r)=>(C(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s);const m=e=>typeof e=="string",p=e=>typeof e=="object"&&e!==null,S=e=>typeof e=="function",L=Array.isArray,y=e=>{const t=new RegExp(`^${e}$`,"i");return["path","svg","use","g"].some(s=>t.test(s))},I=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),z=(e,t)=>e==="dataset"?Object.entries(t).reduce((s,[r,c])=>b(w({},s),{[r]:c===""?!0:c}),{}):t===""?!0:t,B=(e,t,s)=>{var r;if(!(s instanceof DocumentFragment))if(p(t))Object.assign(s[e],t);else if(S(t)){const c=e.toLowerCase();/^(on[a-z]+)$/i.test(c)&&(s[c]=t)}else e==="innerHTML"||e==="dangerouslySetInnerHTML"?m(t)&&(s.innerHTML=(r=t.html)!=null?r:t):e==="className"?s.setAttribute("class",t):s.setAttribute(e,t)},M=(e,t)=>{e!==void 0&&(L(e)?e.forEach(s=>M(s,t)):p(e)?t.append(e):t.append(document.createTextNode(e.toString())))},D=e=>y(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e),V=e=>{var s;if(S(e.tag))return e.tag(e.attributes,e.children);const t=e.tag==="fragment"?new DocumentFragment:D(e.tag);return Object.entries((s=e.attributes)!=null?s:{}).forEach(([r,c])=>B(r,c,t)),e.children.forEach(r=>M(r,t)),t},G=(e,t,...s)=>V({tag:e,attributes:t,children:s}),J=(e,t={},...s)=>G(e,t,...s),K=e=>[...new DOMParser().parseFromString(e,"text/html").body.children],Q=(...e)=>e.reduce((t,s)=>(m(s)?t+=`${s} `:p(s)&&Object.entries(s).filter(([r,c])=>c).forEach(([r])=>{t+=`${r} `}),t),"").trim(),Z=(e,t=[])=>{(t!=null?t:[]).length>0&&Promise.all(t.map(s=>{if(m(s))return new CSSStyleSheet().replace(s);if(s instanceof CSSStyleSheet)return Promise.resolve(s);throw new Error("invalid css in styles")})).then(s=>{e.adoptedStyleSheets=s})},_=({onAttributeChanged:e,onConnected:t,onDisconnected:s,props:r={},styles:c=[],template:g})=>{var l,a,j;return j=class extends HTMLElement{constructor(){super();E(this,l,!1);E(this,a,new Proxy(this,{get(n,o){const i=Reflect.get(n,o);return S(i)?i.bind(n):z(o,i)}}));Z(this.attachShadow({mode:"open"}),c),Object.entries(r).filter(([n,o])=>o).forEach(([n,o])=>{var i,u;p(o)?Object.assign(this[n],Object.entries(o).filter(([f,h])=>h).reduce((f,[h,H])=>{var O;return b(w({},f),{[h]:(O=f[h])!=null?O:H})},(i=this[n])!=null?i:{})):(u=this[n])!=null||(this[n]=o)}),this.update()}static get observedAttributes(){return[...Object.entries(r).map(([n,o])=>n==="dataset"?Object.keys(o).map(i=>`data-${I(i)}`):n).flat()]}connectedCallback(){A(this,l,!0),t&&t(d(this,a))}disconnectedCallback(){s&&s(d(this,a))}attributeChangedCallback(n,o,i){d(this,l)&&o!==i&&e&&e(n,o,i,d(this,a))}update(){const n=g?g(d(this,a)):"",o=this.shadowRoot;m(n)?o.innerHTML=n:o.replaceChildren(...L(n)?n.flat():[n])}fire(n,o){this.dispatchEvent(new CustomEvent(n,o))}event(n,o,i,u){var h;const f=m(n)?(h=this.shadowRoot)==null?void 0:h.getElementById(`${n}`):n;if(!f)throw new Error(`element with id="${n}" not found`);f.addEventListener(o,i,u)}get root(){var n;return(n=this.shadowRoot)==null?void 0:n.getElementById("root")}},l=new WeakMap,a=new WeakMap,j},U=(e,t)=>{window.customElements.get(e)||customElements.define(e,_(t))};export{J as a,Q as c,U as d,K as r};
